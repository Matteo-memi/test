{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\matte\\\\OneDrive\\\\Desktop\\\\MERNHotelBooking-main\\\\client\\\\src\\\\screens\\\\Homescreen.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState } from \"react\";\nimport \"antd/dist/antd.css\";\nimport { DatePicker } from \"antd\";\nimport moment from \"moment\";\nimport Room from \"../components/Room\";\nimport Loader from \"../components/Loader\";\nimport Error from \"../components/Error\";\nimport AOS from \"aos\";\nimport \"aos/dist/aos.css\";\nimport roomData from \"../mongodb\"; // Assicurati che il percorso sia corretto\n\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nAOS.init({\n  duration: 1000\n});\nconst {\n  RangePicker\n} = DatePicker;\n\nfunction Homescreen() {\n  _s();\n\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState(\"\");\n  const [rooms, setRooms] = useState([]);\n  const [fromDate, setFromDate] = useState();\n  const [toDate, setToDate] = useState();\n  const [duplicateRooms, setDuplicateRooms] = useState([]);\n  const [searchKey, setSearchKey] = useState(\"\");\n  const [type, setType] = useState(\"all\");\n\n  function filterByDate(dates) {\n    setFromDate(moment(dates[0]).format(\"DD-MM-YYYY\"));\n    setToDate(moment(dates[1]).format(\"DD-MM-YYYY\"));\n    var tempRooms = [];\n\n    for (const room of duplicateRooms) {\n      var availability = false;\n\n      if (room.currentbookings.length > 0) {\n        for (const booking of room.currentbookings) {\n          if (!moment(moment(dates[0]).format(\"DD-MM-YYYY\")).isBetween(booking.fromdate, booking.todate) && !moment(moment(dates[1]).format(\"DD-MM-YYYY\")).isBetween(booking.fromdate, booking.todate)) {\n            if (moment(dates[0]).format(\"DD-MM-YYYY\") !== booking.fromdate && moment(dates[0]).format(\"DD-MM-YYYY\") !== booking.todate && moment(dates[1]).format(\"DD-MM-YYYY\") !== booking.fromdate && moment(dates[1]).format(\"DD-MM-YYYY\") !== booking.todate) {\n              availability = true;\n            }\n          }\n        }\n      }\n\n      if (availability === true || room.currentbookings.length === 0) {\n        tempRooms.push(room);\n      }\n    }\n\n    setRooms(tempRooms);\n  }\n\n  function filterBySearch() {\n    const tempRooms = duplicateRooms.filter(x => x.name.toLowerCase().includes(searchKey.toLowerCase()));\n    setRooms(tempRooms);\n  }\n\n  function filterByType(selectedType) {\n    setType(selectedType);\n\n    if (selectedType !== \"all\") {\n      const tempRooms = duplicateRooms.filter(x => x.type.toLowerCase() === selectedType.toLowerCase());\n      setRooms(tempRooms);\n    } else {\n      setRooms(duplicateRooms);\n    }\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"container\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"row mt-5 bs\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"col-md-3\",\n        children: /*#__PURE__*/_jsxDEV(RangePicker, {\n          format: \"DD-MM-YYYY\",\n          onChange: filterByDate\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 89,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"col-md-5\",\n        children: /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          className: \"form-control\",\n          placeholder: \"search rooms\",\n          value: searchKey,\n          onChange: e => {\n            setSearchKey(e.target.value);\n          },\n          onKeyUp: filterBySearch\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 93,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"col-md-3\",\n        children: /*#__PURE__*/_jsxDEV(\"select\", {\n          className: \"form-control\",\n          value: type,\n          onChange: e => {\n            filterByType(e.target.value);\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"all\",\n            children: \"All\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 112,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"delux\",\n            children: \"Delux\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 113,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"non-delux\",\n            children: \"Non-Delux\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 114,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 105,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"row justify-content-center mt-5\",\n      children: loading ? /*#__PURE__*/_jsxDEV(Loader, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 121,\n        columnNumber: 11\n      }, this) : error.length > 0 ? /*#__PURE__*/_jsxDEV(Error, {\n        msg: error\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 123,\n        columnNumber: 11\n      }, this) : rooms.map((room, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"col-md-9 mt-3\",\n        \"data-aos\": \"flip-down\",\n        children: /*#__PURE__*/_jsxDEV(Room, {\n          room: room,\n          fromDate: fromDate,\n          toDate: toDate\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 127,\n          columnNumber: 15\n        }, this)\n      }, index, false, {\n        fileName: _jsxFileName,\n        lineNumber: 126,\n        columnNumber: 13\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 119,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 86,\n    columnNumber: 5\n  }, this);\n}\n\n_s(Homescreen, \"SGiLYPDAmexXPEB0+iNGKKEemHY=\");\n\n_c = Homescreen;\nexport default Homescreen;\n\nvar _c;\n\n$RefreshReg$(_c, \"Homescreen\");","map":{"version":3,"sources":["C:/Users/matte/OneDrive/Desktop/MERNHotelBooking-main/client/src/screens/Homescreen.js"],"names":["React","useState","DatePicker","moment","Room","Loader","Error","AOS","roomData","init","duration","RangePicker","Homescreen","loading","setLoading","error","setError","rooms","setRooms","fromDate","setFromDate","toDate","setToDate","duplicateRooms","setDuplicateRooms","searchKey","setSearchKey","type","setType","filterByDate","dates","format","tempRooms","room","availability","currentbookings","length","booking","isBetween","fromdate","todate","push","filterBySearch","filter","x","name","toLowerCase","includes","filterByType","selectedType","e","target","value","map","index"],"mappings":"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","sourcesContent":["import React, { useState } from \"react\";\nimport \"antd/dist/antd.css\";\nimport { DatePicker } from \"antd\";\nimport moment from \"moment\";\nimport Room from \"../components/Room\";\nimport Loader from \"../components/Loader\";\nimport Error from \"../components/Error\";\nimport AOS from \"aos\";\nimport \"aos/dist/aos.css\";\n\nimport roomData from \"../mongodb\"; // Assicurati che il percorso sia corretto\n\nAOS.init({\n  duration: 1000,\n});\n\nconst { RangePicker } = DatePicker;\n\nfunction Homescreen() {\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState(\"\");\n  const [rooms, setRooms] = useState([]);\n  const [fromDate, setFromDate] = useState();\n  const [toDate, setToDate] = useState();\n  const [duplicateRooms, setDuplicateRooms] = useState([]);\n  const [searchKey, setSearchKey] = useState(\"\");\n  const [type, setType] = useState(\"all\");\n\n  function filterByDate(dates) {\n    setFromDate(moment(dates[0]).format(\"DD-MM-YYYY\"));\n    setToDate(moment(dates[1]).format(\"DD-MM-YYYY\"));\n\n    var tempRooms = [];\n    for (const room of duplicateRooms) {\n      var availability = false;\n      if (room.currentbookings.length > 0) {\n        for (const booking of room.currentbookings) {\n          if (\n            !moment(moment(dates[0]).format(\"DD-MM-YYYY\")).isBetween(\n              booking.fromdate,\n              booking.todate\n            ) &&\n            !moment(moment(dates[1]).format(\"DD-MM-YYYY\")).isBetween(\n              booking.fromdate,\n              booking.todate\n            )\n          ) {\n            if (\n              moment(dates[0]).format(\"DD-MM-YYYY\") !== booking.fromdate &&\n              moment(dates[0]).format(\"DD-MM-YYYY\") !== booking.todate &&\n              moment(dates[1]).format(\"DD-MM-YYYY\") !== booking.fromdate &&\n              moment(dates[1]).format(\"DD-MM-YYYY\") !== booking.todate\n            ) {\n              availability = true;\n            }\n          }\n        }\n      }\n      if (availability === true || room.currentbookings.length === 0) {\n        tempRooms.push(room);\n      }\n    }\n    setRooms(tempRooms);\n  }\n\n  function filterBySearch() {\n    const tempRooms = duplicateRooms.filter((x) =>\n      x.name.toLowerCase().includes(searchKey.toLowerCase())\n    );\n    setRooms(tempRooms);\n  }\n\n  function filterByType(selectedType) {\n    setType(selectedType);\n    if (selectedType !== \"all\") {\n      const tempRooms = duplicateRooms.filter(\n        (x) => x.type.toLowerCase() === selectedType.toLowerCase()\n      );\n      setRooms(tempRooms);\n    } else {\n      setRooms(duplicateRooms);\n    }\n  }\n\n  return (\n    <div className=\"container\">\n      <div className=\"row mt-5 bs\">\n        <div className=\"col-md-3\">\n          <RangePicker format=\"DD-MM-YYYY\" onChange={filterByDate} />\n        </div>\n\n        <div className=\"col-md-5\">\n          <input\n            type=\"text\"\n            className=\"form-control\"\n            placeholder=\"search rooms\"\n            value={searchKey}\n            onChange={(e) => {\n              setSearchKey(e.target.value);\n            }}\n            onKeyUp={filterBySearch}\n          />\n        </div>\n        <div className=\"col-md-3\">\n          <select\n            className=\"form-control\"\n            value={type}\n            onChange={(e) => {\n              filterByType(e.target.value);\n            }}\n          >\n            <option value=\"all\">All</option>\n            <option value=\"delux\">Delux</option>\n            <option value=\"non-delux\">Non-Delux</option>\n          </select>\n        </div>\n      </div>\n\n      <div className=\"row justify-content-center mt-5\">\n        {loading ? (\n          <Loader />\n        ) : error.length > 0 ? (\n          <Error msg={error} />\n        ) : (\n          rooms.map((room, index) => (\n            <div className=\"col-md-9 mt-3\" data-aos=\"flip-down\" key={index}>\n              <Room room={room} fromDate={fromDate} toDate={toDate} />\n            </div>\n          ))\n        )}\n      </div>\n    </div>\n  );\n}\n\nexport default Homescreen;\n"]},"metadata":{},"sourceType":"module"}